# NOTE: this are not the right
# parameters for the neuropixel data
# but we are using them to avoid breaking
# the nnet detection, will update
# when we incorporate new models

data:
  root_folder: tests/data
  recordings: neuropixel.bin
  geometry: geometry_fake.txt

recordings:
  dtype: int16
  sampling_rate: 20000
  n_channels: 10
  spatial_radius: 70
  spike_size_ms: 1.5

# TURN ON/OFF MODULES
# 0 for filtered recording
doFilter: True

methods:
  detection: nn


neural_network_detector:
  filename: detectnet1.ckpt
  threshold_spike: 0.5
  threshold_collision: 0.75

# PREPROCESS
# max. memory allowed for loading recording (in bytes)
maxMem: 1000000000
# [0,1] to use parital data to estimate templates
partialDat: 1
# determine whitening matrix in each minibatch
whitenBatchwise: 0
# number of features for dimension reduction
nFeat: 3


templates:
  merge_threshold: [0.8, 0.7]

deconvolution:
  rank: 3
  threshold: 4
  lam: 20


# Neural network parameters
neural_network:
  aeFilename: ae_31.ckpt
  nnTriageFilename: triagenet1.ckpt
  nnTriageFilterSize: [8, 16]  
